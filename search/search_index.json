{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"HoloShed The unshackled Steam Deck OS--because the only person shooting you in the foot should be you. What is HoloShed? HoloShed is a project to create my own personal Linux distribution for the Valve Steam Deck , an absolutely incredible handheld device responsible for bringing Linux to the masses. I'm told it plays games. What's wrong with SteamOS? To their credit, Valve did what many thought unthinkable--they built a GNU/Linux (meaning only to differentiate against Android, not to pander to Richard Stallman) distribution where someone who knows nothing about computers can have it just work --and for more than checking emails or training recurrent neural networks--90% of the time for 90% of things. And amazingly, they did it while still providing us tinkerers and hackers with total and complete control over the software. The problem (\"problem\") is that Valve achieved this by locking away all the foot-guns inside an immutable filesystem. Sure, they gave us the keys to the locker, but if you go around futzing around and customizing your packages, unless you're doing it all in userspace (God bless flatpak) or using an overlay tool like Rwfus , you're looking at building your sandcastle from scratch the next time the update tide rolls in. The other problem with this immutable filesystem approach is that the SteamOS upgrade experience feels very much more like macOS than a Linux--you don't get to pick and choose which components get updated, it's all or nothing. And when that all is something like the nightmare that was SteamOS 3.4 , it kinda gets you asking why you're letting someone else shoot you in the foot instead of doing it for yourself. What's different about HoloShed? In short, when it's done, it's going to be mine . Several things about SteamOS (beyond the OS philosophy) really irk me on a personal level. Namely: I am, and always have been, a GNOME. My philosophy regarding KDE is very much, \"if I'd wanted to use Windows XP, I would have stuck with Windows XP.\" Separating Gaming Mode and Desktop mode is dumb, especially now that Deck's UI changes have arrived in Steam desktop's \"Big Picture\" client Unless there is a compelling reason not to, I want to be on the latest Linux kernel possible, given the incredible changes and bugfixes that are getting added on what seem like a daily basis I prefer to keep my data (documents, multimedia files, game saves, etc.) on a separate partition from both my OS and my home directory (and then just make heavy use of symlinks). This is to make it a lot easier to distro-hop, dual boot and recover from desktop configuration snafus. This one pains me to say, but I don't think Wayland is ready yet. Sway is awesome, gamescope is super neat, but I just don't see the advantage compared with the hassle of finding things that work (especially outside of XWayland). Is HoloShed for Me? No. Seriously? Yeah, this project is a creative outlet for me and a chance for me to learn more about how Linux distributions work. There is an approximately 0% chance that I end up with a system with even half the functionality as SteamOS or a third the utility of SteamOS + Rwfus. There might be value in looking at my process, but even there I'm guessing the nature of that value will be less educational than entertainment at the many ways I mess things up. Even if I get everything working, a system with: my particular choice of desktop environment (probably Pantheon ) my particular configurations and customizations ( alias cat='lolcat' ) my particular bundled applications and development stacks is designed to appeal to exactly one person: me. What's with the name? SteamOS is referred to by Valve as \"HoloOS.\" Holo OS on the Steam Deck. \ud83e\udd14 Holo Deck. Lest you ever doubt that the folks working for Gabe Newell are complete and total dorks (and I love them for it \u2665\ufe0f). In any case, if I'm going to make an off-brand version of a HoloDeck there's no need to reinvent the wheel when it comes to naming. Or, to save you the click: Kif : This is the holoshed. It can simulate anything you desire, and nothing can hurt you. Except when it malfunctions and the holograms become real. Amy : Well, that probably won't happen this time.","title":"Home"},{"location":"#holoshed","text":"The unshackled Steam Deck OS--because the only person shooting you in the foot should be you.","title":"HoloShed"},{"location":"#what-is-holoshed","text":"HoloShed is a project to create my own personal Linux distribution for the Valve Steam Deck , an absolutely incredible handheld device responsible for bringing Linux to the masses. I'm told it plays games.","title":"What is HoloShed?"},{"location":"#whats-wrong-with-steamos","text":"To their credit, Valve did what many thought unthinkable--they built a GNU/Linux (meaning only to differentiate against Android, not to pander to Richard Stallman) distribution where someone who knows nothing about computers can have it just work --and for more than checking emails or training recurrent neural networks--90% of the time for 90% of things. And amazingly, they did it while still providing us tinkerers and hackers with total and complete control over the software. The problem (\"problem\") is that Valve achieved this by locking away all the foot-guns inside an immutable filesystem. Sure, they gave us the keys to the locker, but if you go around futzing around and customizing your packages, unless you're doing it all in userspace (God bless flatpak) or using an overlay tool like Rwfus , you're looking at building your sandcastle from scratch the next time the update tide rolls in. The other problem with this immutable filesystem approach is that the SteamOS upgrade experience feels very much more like macOS than a Linux--you don't get to pick and choose which components get updated, it's all or nothing. And when that all is something like the nightmare that was SteamOS 3.4 , it kinda gets you asking why you're letting someone else shoot you in the foot instead of doing it for yourself.","title":"What's wrong with SteamOS?"},{"location":"#whats-different-about-holoshed","text":"In short, when it's done, it's going to be mine . Several things about SteamOS (beyond the OS philosophy) really irk me on a personal level. Namely: I am, and always have been, a GNOME. My philosophy regarding KDE is very much, \"if I'd wanted to use Windows XP, I would have stuck with Windows XP.\" Separating Gaming Mode and Desktop mode is dumb, especially now that Deck's UI changes have arrived in Steam desktop's \"Big Picture\" client Unless there is a compelling reason not to, I want to be on the latest Linux kernel possible, given the incredible changes and bugfixes that are getting added on what seem like a daily basis I prefer to keep my data (documents, multimedia files, game saves, etc.) on a separate partition from both my OS and my home directory (and then just make heavy use of symlinks). This is to make it a lot easier to distro-hop, dual boot and recover from desktop configuration snafus. This one pains me to say, but I don't think Wayland is ready yet. Sway is awesome, gamescope is super neat, but I just don't see the advantage compared with the hassle of finding things that work (especially outside of XWayland).","title":"What's different about HoloShed?"},{"location":"#is-holoshed-for-me","text":"No.","title":"Is HoloShed for Me?"},{"location":"#seriously","text":"Yeah, this project is a creative outlet for me and a chance for me to learn more about how Linux distributions work. There is an approximately 0% chance that I end up with a system with even half the functionality as SteamOS or a third the utility of SteamOS + Rwfus. There might be value in looking at my process, but even there I'm guessing the nature of that value will be less educational than entertainment at the many ways I mess things up. Even if I get everything working, a system with: my particular choice of desktop environment (probably Pantheon ) my particular configurations and customizations ( alias cat='lolcat' ) my particular bundled applications and development stacks is designed to appeal to exactly one person: me.","title":"Seriously?"},{"location":"#whats-with-the-name","text":"SteamOS is referred to by Valve as \"HoloOS.\" Holo OS on the Steam Deck. \ud83e\udd14 Holo Deck. Lest you ever doubt that the folks working for Gabe Newell are complete and total dorks (and I love them for it \u2665\ufe0f). In any case, if I'm going to make an off-brand version of a HoloDeck there's no need to reinvent the wheel when it comes to naming. Or, to save you the click: Kif : This is the holoshed. It can simulate anything you desire, and nothing can hurt you. Except when it malfunctions and the holograms become real. Amy : Well, that probably won't happen this time.","title":"What's with the name?"},{"location":"manual-install-guide/","text":"Manual Installation In a VM, at least Create your VM I'm using KVM / QEMU / VirtManager, but you do you. Set up your virtual machine with Steam Deck specs: 64GB of disk space 16GB of RAM 8 CPUs (4 cores, 2 threads per core) For initial setup, I'm using a Virtio display and Spice server. You could also do GPU pass-through. Make sure you're using UEFI for boot, not BIOS Partition your Disk You can do this as part of the Arch install, but I'm a lot more comfy doing it graphically with GParted Download the SystemRescue ISO Load it into the VM as a virtual CD Set it to the top of the boot order Power on and boot Open GParted and use the following partitioning layout: | Label | File System | Size | | -------| ----------- | ----- | | boot | FAT32 | 512MB | | swap | linux-swap | 16GB | | root | ext4 | 16GB | | home | ext4 | 8GB | | main | ext4 | (remainder) | Apply, close and power off Install Arch Download the Arch installation ISO Load it into the VM as a virtual CD Make sure it's still the top of the boot order Power on and boot Follow the Arch install guide If you followed the above section, you can skip partitioning & formatting Mount the partitions. If you followed the layout of the above section, then it should be self-explanatory what to mount where. The main partition should be /main Install the packages listed in pacstrap.conf Don't reboot when done arch-chroot into your system useradd your account, adding yourself to wheel visudo to add wheel group to sudoers su into yourself, disable root login chown -R /main so that you own it. Set up your home folders to symlink to folders in /main cd to ~/Workspace ( /main/Workspace ) and install paru Install additional packages through paru (including greetd) Configure greetd Logout, exit chroot, reboot Findings This experience was pretty horrible--Sway suffers due to a known kernel limitation that prevents the cursor from working correctly in a guest OS. Vulkan did not work through Spice (which, tbf, says acceleration is through OpenGL), and everything was just a buggy mess. And I haven't even started exploring virtual keyboards and X-input mapping.","title":"Manual Installation"},{"location":"manual-install-guide/#manual-installation","text":"In a VM, at least","title":"Manual Installation"},{"location":"manual-install-guide/#create-your-vm","text":"I'm using KVM / QEMU / VirtManager, but you do you. Set up your virtual machine with Steam Deck specs: 64GB of disk space 16GB of RAM 8 CPUs (4 cores, 2 threads per core) For initial setup, I'm using a Virtio display and Spice server. You could also do GPU pass-through. Make sure you're using UEFI for boot, not BIOS","title":"Create your VM"},{"location":"manual-install-guide/#partition-your-disk","text":"You can do this as part of the Arch install, but I'm a lot more comfy doing it graphically with GParted Download the SystemRescue ISO Load it into the VM as a virtual CD Set it to the top of the boot order Power on and boot Open GParted and use the following partitioning layout: | Label | File System | Size | | -------| ----------- | ----- | | boot | FAT32 | 512MB | | swap | linux-swap | 16GB | | root | ext4 | 16GB | | home | ext4 | 8GB | | main | ext4 | (remainder) | Apply, close and power off","title":"Partition your Disk"},{"location":"manual-install-guide/#install-arch","text":"Download the Arch installation ISO Load it into the VM as a virtual CD Make sure it's still the top of the boot order Power on and boot Follow the Arch install guide If you followed the above section, you can skip partitioning & formatting Mount the partitions. If you followed the layout of the above section, then it should be self-explanatory what to mount where. The main partition should be /main Install the packages listed in pacstrap.conf Don't reboot when done arch-chroot into your system useradd your account, adding yourself to wheel visudo to add wheel group to sudoers su into yourself, disable root login chown -R /main so that you own it. Set up your home folders to symlink to folders in /main cd to ~/Workspace ( /main/Workspace ) and install paru Install additional packages through paru (including greetd) Configure greetd Logout, exit chroot, reboot","title":"Install Arch"},{"location":"manual-install-guide/#findings","text":"This experience was pretty horrible--Sway suffers due to a known kernel limitation that prevents the cursor from working correctly in a guest OS. Vulkan did not work through Spice (which, tbf, says acceleration is through OpenGL), and everything was just a buggy mess. And I haven't even started exploring virtual keyboards and X-input mapping.","title":"Findings"},{"location":"dev-diary/","text":"","title":"Dev Diary"},{"location":"dev-diary/01-to-make-a-linux/","text":"How to Make a Linux Distribution I am told that creating one's own Linux distribution is, in some circles, a rite of passage akin to building one's own JavaScript framework , yet even though I've been using Linux since 2006 ( ah, Dapper Drake \ud83e\udd86 ... ), it's not something that ever interested me. Even though I had a good understanding of the components of a distro (kernel, userspace, desktop environment, package manager...), it wasn't until I installed Arch for the first time that I realized just how much was involved in setting up a working desktop (that process also made me realize that Arch is just about my limit in terms of the lengths I'd go to customize my Linux experience, that is to say: in no way am I brave--or patient--enough to try Gentoo!). Now technically, once I got my Arch installation configured how I wanted it ( Pantheon desktop environment, most apps flatpak and configured with the latest AMD Vulkan and OpenCL software stacks) I could claim I had successfully built my own Linux distro. To wit--the way I'd set up my desktop was through trialing a bunch of setups and configurations in a VM, then exporting my package lists and configuration files to install onto a fresh system. Similarly, the most straightforward way of declaring victory with this HoloShed project would be to do the same: Set up a system in a VM, tweak with it and futz with it until I was ready to try it on the Deck Export the package lists and configuration files Run the Arch installer on the Deck, pacstrap all the packages I had listed, copy over my configuration files Validate that everything was working Post these steps, configuration files and package lists to reddit. Rake in the karma But that seemed like a cop-out. ChimeraOS , Endeavour and my beloved elementaryOS are more than just blog posts. Now, part of that is that each of those projects has developed their own apps for use on their distro, and (I think) each additionally maintain their own package repositories, but the more critical difference that makes these projects proper distros is that they each have guided installers. Enter Calamares \ud83d\udc19 When Googling \"How to make a Linux distribution,\" Calamares comes up pretty quick. It's the installer framework used by Endeavour, KaOS, Manjaro and even non-Arch distros like Lubuntu and Peppermint. While there are other installer frameworks out there, Calamares seemed like the best place to start. What is Calamares? Calamares provides a customizable graphical installer that you--the distro author--can customize so that a user can run that graphical installer and set up their Linux desktop exactly how you--again, the distro author--want it. It does this through an extendable collection of modules that a distro author can customize to their heart's content. What isn't Calamares? What took me far too long to grok was that Calamares does not create the entire LiveCD or installation ISO. It is just the GUI installer itself , and even after you're done configuring it, you still need to create your own installation medium. (I mean, you don't really --you could, say, build Calamares as an AppImage, run it from a full desktop , and install your distro to an external drive or, for the Deck explicitly, a microSD, but that's not the road I want to go down) Building a LiveCD, or, Making a Linux to Make Your Linux So I started this project with the intention of building my own Linux distribution. What I didn't realize is that I'd be making two . Luckily, there are plenty of tools for making bootable ISOs either from scratch or from an existing installation , so the only question now is whether to start with the chicken or the egg?","title":"How to Make a Linux Distribution"},{"location":"dev-diary/01-to-make-a-linux/#how-to-make-a-linux-distribution","text":"I am told that creating one's own Linux distribution is, in some circles, a rite of passage akin to building one's own JavaScript framework , yet even though I've been using Linux since 2006 ( ah, Dapper Drake \ud83e\udd86 ... ), it's not something that ever interested me. Even though I had a good understanding of the components of a distro (kernel, userspace, desktop environment, package manager...), it wasn't until I installed Arch for the first time that I realized just how much was involved in setting up a working desktop (that process also made me realize that Arch is just about my limit in terms of the lengths I'd go to customize my Linux experience, that is to say: in no way am I brave--or patient--enough to try Gentoo!). Now technically, once I got my Arch installation configured how I wanted it ( Pantheon desktop environment, most apps flatpak and configured with the latest AMD Vulkan and OpenCL software stacks) I could claim I had successfully built my own Linux distro. To wit--the way I'd set up my desktop was through trialing a bunch of setups and configurations in a VM, then exporting my package lists and configuration files to install onto a fresh system. Similarly, the most straightforward way of declaring victory with this HoloShed project would be to do the same: Set up a system in a VM, tweak with it and futz with it until I was ready to try it on the Deck Export the package lists and configuration files Run the Arch installer on the Deck, pacstrap all the packages I had listed, copy over my configuration files Validate that everything was working Post these steps, configuration files and package lists to reddit. Rake in the karma But that seemed like a cop-out. ChimeraOS , Endeavour and my beloved elementaryOS are more than just blog posts. Now, part of that is that each of those projects has developed their own apps for use on their distro, and (I think) each additionally maintain their own package repositories, but the more critical difference that makes these projects proper distros is that they each have guided installers.","title":"How to Make a Linux Distribution"},{"location":"dev-diary/01-to-make-a-linux/#enter-calamares","text":"When Googling \"How to make a Linux distribution,\" Calamares comes up pretty quick. It's the installer framework used by Endeavour, KaOS, Manjaro and even non-Arch distros like Lubuntu and Peppermint. While there are other installer frameworks out there, Calamares seemed like the best place to start.","title":"Enter Calamares \ud83d\udc19"},{"location":"dev-diary/01-to-make-a-linux/#what-is-calamares","text":"Calamares provides a customizable graphical installer that you--the distro author--can customize so that a user can run that graphical installer and set up their Linux desktop exactly how you--again, the distro author--want it. It does this through an extendable collection of modules that a distro author can customize to their heart's content.","title":"What is Calamares?"},{"location":"dev-diary/01-to-make-a-linux/#what-isnt-calamares","text":"What took me far too long to grok was that Calamares does not create the entire LiveCD or installation ISO. It is just the GUI installer itself , and even after you're done configuring it, you still need to create your own installation medium. (I mean, you don't really --you could, say, build Calamares as an AppImage, run it from a full desktop , and install your distro to an external drive or, for the Deck explicitly, a microSD, but that's not the road I want to go down)","title":"What isn't Calamares?"},{"location":"dev-diary/01-to-make-a-linux/#building-a-livecd-or-making-a-linux-to-make-your-linux","text":"So I started this project with the intention of building my own Linux distribution. What I didn't realize is that I'd be making two . Luckily, there are plenty of tools for making bootable ISOs either from scratch or from an existing installation , so the only question now is whether to start with the chicken or the egg?","title":"Building a LiveCD, or, Making a Linux to Make Your Linux"}]}